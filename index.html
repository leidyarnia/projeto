 <!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>psi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  </head>
  <body>
    <div id="container">
           <div class="row align-items-center position-absolute top-50 start-50 translate-middle  ">
            <div class="col-md-11 mx-auto">
              <form class="p-md-5 border rounded-3 bg-success" id="loginForm">
                <img class="img-fluid"src="./images/Logo.png" alt="logo-psi">
                <div class="mb-2 text-light">
                  <label for="InputEmail">Login</label>
                  <input type="email" class="form-control" id="login" aria-describedby="emailHelp">
                </div>
                <div class="mb-4 text-light">
                  <label for="InputPassword">Senha</label>
                  <input type="password" class="form-control" id="senha">
                </div>
                <div class="col-12"><button class=" entrar w-100 border rounded-3 btn btn-success" type="submit" onclick="validarLogin()">Entrar</button></div>
                 <div class="col-12 text-center mt-2"><a class="cadastre text-decoration-none text-light " href="./telacadastro.html">Cadastre-se gratuitamente</a></div>
                </form>
            </div>
           </div>
     </div>

     <script>
  const form = document.querySelector('#loginForm');
  const url = 'https://projeto-wexer.onrender.com/usuarios';
  
  form.addEventListener('submit', async (event) => {
    event.preventDefault();
  
    const email = document.querySelector('#login').value;
    const senha = document.querySelector('#senha').value;
  
    // Faz uma requisição GET ao endpoint correspondente ao email fornecido pelo usuário
    const response = await fetch(`${url}?email=${email}`);
  
    if (response.ok) {
      const usuario = await response.json();
  
      // Verifica se a senha fornecida pelo usuário é igual à senha recuperada do endpoint
      if (usuario.length && usuario[0].senha === senha) {
        // Login válido, redireciona o usuário para a página desejada
        window.location.href = 'meuspacientes.html';
      } else {
        // Senha incorreta, exibe uma mensagem de erro para o usuário
        alert('Senha incorreta.');
      }
    } else {
      // Usuário não encontrado, exibe uma mensagem de erro para o usuário
      alert('Usuário não encontrado.');
    }
  });
     </script>

    


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
     
    <link rel="stylesheet" href="style.css">

  </body>
</html>


